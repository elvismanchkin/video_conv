#!/bin/bash
# Default configuration for GPU Video Converter

# Quality and encoding settings
readonly DEFAULT_QUALITY_PARAM=24
readonly DEFAULT_STEREO_BITRATE="192k"
readonly DEFAULT_MAX_BITRATE="50M"
readonly DEFAULT_BUFFER_SIZE="100M"

# Override with environment variables if set
readonly QUALITY_PARAM=${CVRT_QUALITY:-$DEFAULT_QUALITY_PARAM}
readonly STEREO_BITRATE=${CVRT_STEREO_BITRATE:-$DEFAULT_STEREO_BITRATE}
readonly MAX_BITRATE=${CVRT_MAX_BITRATE:-$DEFAULT_MAX_BITRATE}
readonly BUFFER_SIZE=${CVRT_BUFFER_SIZE:-$DEFAULT_BUFFER_SIZE}

# Hardware detection settings
readonly MIN_RAM_DISK_GB=1
readonly RAM_DISK_PATH="/dev/shm"

# Encoder priority scoring (higher = better)
readonly -A ENCODER_SCORES=(
    [NVENC]=100
    [QSV]=90
    [VAAPI]=80
    [SOFTWARE]=50
)

# Complexity thresholds (pixels)
readonly HIGH_COMPLEXITY_THRESHOLD=8000000    # ~4K
readonly MEDIUM_COMPLEXITY_THRESHOLD=2000000  # ~1080p

# Required dependencies
readonly -a REQUIRED_TOOLS=(
    "ffmpeg"
    "ffprobe"
    "jq"
)

# Optional dependencies for hardware acceleration
readonly -a OPTIONAL_TOOLS=(
    "vainfo"
    "nvidia-smi"
)

# File extensions to process
readonly -a SUPPORTED_EXTENSIONS=(
    "mkv"
)

# Temporary file naming pattern
readonly TEMP_FILE_PREFIX="cvrt-temp"
